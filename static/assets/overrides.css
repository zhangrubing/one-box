:root { --top-h: 56px; }
html, body { margin:0 !important; padding:0 !important; }
.container { gap:0 !important; width:100% !important; max-width:none !important; margin:0 !important; }
/* Ensure the grid truly spans edge-to-edge and no default Tailwind .container centering applies */
body > .container, html > body > .container { width:100% !important; max-width:none !important; margin-left:0 !important; margin-right:0 !important; }

/* Responsive: when viewport is narrow, keep layout fluid */
@media (max-width: 1024px){
  :root { --sidebar-w: 220px; }
}
@media (max-width: 768px){
  :root { --sidebar-w: 200px; }
}
.header { height: var(--top-h); min-height: var(--top-h); margin:0 !important; width:100% !important; }
main { margin:0 !important; }
.content > *:first-child { margin-top: 0; }

/* Light-mode hard overrides to avoid residual dark styling */
html[data-theme="light"] body,
html[data-theme="light"] main,
html[data-theme="light"] .sidebar,
html[data-theme="light"] .header,
html[data-theme="light"] .card,
html[data-theme="light"] .table,
html[data-theme="light"] .input,
html[data-theme="light"] .modal { background: var(--layer) !important; color: var(--text) !important; }
html[data-theme="light"] .card,
html[data-theme="light"] .table,
html[data-theme="light"] .input,
html[data-theme="light"] .modal { background: var(--card) !important; border-color: var(--border) !important; }
html[data-theme="light"] .table th,
html[data-theme="light"] .table td { border-bottom:1px solid var(--border) !important; color: var(--text) !important; }
html[data-theme="light"] .btn { background: var(--brand) !important; color: #fff !important; }
/* Preserve semantic colors for specific buttons in light mode */
html[data-theme="light"] .btn.ok { background: var(--ok) !important; }
html[data-theme="light"] .btn.warn { background: var(--warn) !important; }
html[data-theme="light"] .btn.danger { background: var(--danger) !important; }
html[data-theme="light"] a { color: var(--brand) !important; }

.sidebar .brand img { height:28px; width:28px; border-radius:6px; }

/* Light mode subtle surfaces */
html[data-theme="light"] {
  --surface-0: #f5f7fb; /* page base */
  --surface-1: #f1f4f9; /* content area */
  --surface-2: #eef2f8; /* sidebar/header/card */
  --surface-border: #d8e0ee; /* slightly stronger border */
}

/* Page base: right-side root background */
html[data-theme="light"] main { background: var(--surface-2) !important; }

/* Left sidebar: soft background + clearer border */
html[data-theme="light"] .sidebar {
  background: var(--surface-0) !important;
  border-right: 1px solid var(--surface-border) !important;
}

/* Header: very light gradient and subtle border */
html[data-theme="light"] .header {
  background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55)), var(--surface-2) !important;
  backdrop-filter: saturate(1.1);
  border-bottom: 1px solid var(--surface-border) !important;
}

/* Content region: slightly stronger than page base */
html[data-theme="light"] .content { background: var(--surface-1) !important; }

/* Cards: maintain light polish with defined border */
html[data-theme="light"] .card {
  background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.62)), var(--surface-2) !important;
  border: 1px solid var(--surface-border) !important;
}

/* Tables/inputs: reinforce borders slightly */
html[data-theme="light"] .table th,
html[data-theme="light"] .table td,
html[data-theme="light"] .input { border-color: var(--surface-border) !important; }

/* Nav hover: soft brand-tinted hover to avoid glare */
html[data-theme="light"] .nav a:hover {
  background: rgba(37,99,235,.06) !important;
  border-color: var(--surface-border) !important;
}

/* Light mode: sidebar nav text color as neutral, not blue */
html[data-theme="light"] .nav a { color: var(--text) !important; }
html[data-theme="light"] .nav a:hover { color: var(--text) !important; }
html[data-theme="light"] .nav a.active { color: var(--text) !important; }

/* Light mode: sidebar nav text color only; keep icon colors unchanged */
html[data-theme="light"] .nav a { color: var(--text) !important; }
html[data-theme="light"] .nav a span { color: unset !important; }


/* Ensure date/time picker icons are visible in dark mode */
html:not([data-theme="light"]) input[type="date"],
html:not([data-theme="light"]) input[type="time"],
html:not([data-theme="light"]) input[type="datetime-local"] {
  color-scheme: light;
}
html[data-theme="light"] input[type="date"],
html[data-theme="light"] input[type="time"],
html[data-theme="light"] input[type="datetime-local"] {
  color-scheme: dark;
}
/* WebKit calendar/clock icon tint */
/* Dark theme: force white-looking icons */
html:not([data-theme="light"]) input[type="date"]::-webkit-calendar-picker-indicator,
html:not([data-theme="light"]) input[type="time"]::-webkit-calendar-picker-indicator,
html:not([data-theme="light"]) input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: invert(1) brightness(2.2) grayscale(1) !important;
  opacity: 1;
  cursor: pointer;
}
/* Light theme: keep native look */
html[data-theme="light"] input[type="date"]::-webkit-calendar-picker-indicator,
html[data-theme="light"] input[type="time"]::-webkit-calendar-picker-indicator,
html[data-theme="light"] input[type="datetime-local"]::-webkit-calendar-picker-indicator {
  filter: none;
}
